<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
   <link rel="stylesheet" href="/css/styles.css">
   <title>Pet Care - Home</title>
</head>
<body>
   <div class="container mt-5">
      <!-- Application Title -->
      <h1 class="text-center mb-4">Pet Care Organizer</h1>
      
      <!-- Pet List Title -->
      <h2 class="text-center mb-4">Pet List</h2>

      <!-- Button to Add a New Pet -->
      <div class="text-end mb-3">
         <a href="/add" class="btn btn-success"><i class="fas fa-plus"></i> Add New Pet</a>
      </div>

      <!-- Check if there are no pets -->
      <% if (pets.length === 0) { %>
         <div class="alert alert-warning text-center">
            No pets available at the moment. Please add a new pet.
         </div>
      <% } else { %>
         <!-- Pet List -->
         <div class="card">
            <div class="card-body">
               <ul class="list-group">
                  <% pets.forEach(pet => { %>
                     <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                           <strong><%= pet.name %></strong> - <%= pet.pet_type %> - <%= pet.breed %> - <%= pet.age %> years
                           <p><%= pet.description %></p>
                           <p><strong>Location:</strong> <%= pet.address %></p>
                           <% if(pet.image_url) { %>
                              <img src="<%= pet.image_url %>" alt="Pet Image" class="img-fluid" style="max-height: 200px;">
                           <% } else { %>
                              <p>No image available</p>
                           <% } %>
                        </div>
                        <div>
                           <a href="/view/<%= pet.id %>" class="btn btn-info btn-sm me-2" title="View Pet"><i class="fas fa-eye"></i> View</a>
                           <a href="/edit/<%= pet.id %>" class="btn btn-primary btn-sm me-2" title="Edit Pet"><i class="fas fa-edit"></i> Edit</a>
                           <a href="/delete/<%= pet.id %>" class="btn btn-danger btn-sm" title="Delete Pet"><i class="fas fa-trash-alt"></i> Delete</a>
                        </div>
                     </li>
                  <% }) %>
               </ul>
            </div>
         </div>
      <% } %>
   </div>

   <!-- Bootstrap JS and dependencies -->
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
</body>
</html>
